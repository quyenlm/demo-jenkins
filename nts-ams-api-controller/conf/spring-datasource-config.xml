<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">

    <bean id="masterDataSource"
          class="org.apache.commons.dbcp.BasicDataSource">
        <property name="driverClassName" value="${jdbc.driverClassName}" />
        <property name="url" value="${jdbc.urlMaster}" />
        <property name="username" value="${jdbc.usernameMaster}" />
        <property name="password" value="${jdbc.passwordMaster}" />
        <property name="maxActive" value="150"/>
        <property name="maxIdle" value="75"/>
        <property name="testOnBorrow" value="true" />
        <property name="testOnReturn" value="true" />
        <property name="validationQuery" value="SELECT 1" />
    </bean>

    <!-- Hibernate session factory -->
	<bean id="masterSessionFactory" 
		class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
		<property name="dataSource"><ref bean="masterDataSource" /></property>
		<property name="hibernateProperties">
			<props>
				<prop key="dialect">org.hibernate.dialect.MySQLDialect</prop>
				<prop key="show_sql">false</prop>
                <prop key="hibernate.show_sql">false</prop>
                <prop key="jdbc.batch_size">15</prop>
                <prop key="c3p0.max_size">500</prop>
                <prop key="c3p0.min_size">50</prop>
                <prop key="c3p0.timeout">5000</prop>
                <prop key="c3p0.max_statements">500</prop>
                <prop key="c3p0.idle_test_period">3000</prop>
                <prop key="c3p0.acquire_increment">2</prop>
                <prop key="connection.provider_class">org.hibernate.connection.C3P0ConnectionProvider</prop>
                <prop key="hibernate.connection.release_mode">after_statement</prop>
                <prop key="hibernate.enable_lazy_load_no_trans">true</prop>
			</props>
		</property>
		
		
		<property name="mappingResources">
			<list>
				<value>phn/com/nts/db/entity/mapping/SysAppDate.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsCashBalance.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsCashflow.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsCustomer.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsCustomerAkazan.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsCustomerEwallet.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsCustomerService.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsCustomerSurvey.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsCustomerTrace.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsDeposit.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsDepositRef.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsGroup.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsIb.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsIbClient.hbm.xml</value>				
				<value>phn/com/nts/db/entity/mapping/AmsMailSending.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsMailTemplate.hbm.xml</value>				
				<value>phn/com/nts/db/entity/mapping/AmsMessage.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsMessageReadTrace.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsSubGroup.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsSummaryCash.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsSummaryCustomer.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsSummaryTransact.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsSysBank.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsSysBankBranch.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsSysCountry.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/SysCurrency.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/SysOperation.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/SysOperationAuth.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/SysOperationItem.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/SysOperationLog.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/SysOperationRole.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/SysProperty.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/SysUniqueidCounter.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsSysVirtualBank.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsSysZipcode.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsTransferMoney.hbm.xml</value> 
				<value>phn/com/nts/db/entity/mapping/AmsWhitelabel.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsWhitelabelConfig.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsWhitelabelCalendar.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsWithdrawal.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsWithdrawalRef.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsCustomerBank.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsIbKickback.hbm.xml</value>				
				<value>phn/com/nts/db/entity/mapping/FxSymbol.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsCustomerCreditcard.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsSubGroupSymbol.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsPromotion.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsPromotionBaseCcy.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsPromotionCustomer.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsExchanger.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsExchangerSymbol.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsWlExchanger.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/FxSummaryRate.hbm.xml</value>
				
				<!-- View Mapping -->
				<value>phn/com/nts/db/entity/mapping/AmsViewFeSearchHistory.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsViewFeExchangerHistory.hbm.xml</value>
				<!-- View Mapping -->
				<value>phn/com/nts/db/entity/mapping/AmsCustomerConfig.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsPaymentgw.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsPaymentgwBalance.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsPaymentgwCashflow.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsPaymentgwTransaction.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsPaymentgwWl.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsWithdrawalFee.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsPromotionGroup.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsViewCustomerService.hbm.xml</value>
				
				<value>phn/com/nts/db/entity/mapping/AmsDmc.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsDmcCustomer.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsDmcCustomerContest.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsCustomerDoc.hbm.xml</value>
				<value>phn/com/nts/db/entity/mapping/AmsErrorCode.hbm.xml</value>

                <value>phn/com/nts/db/entity/mapping/ScArchivement.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScArcUser.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScBroker.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScComment.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScCustomerCopy.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScCustomerFollow.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScCustomerService.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScFeed.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScFeedLike.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScInvestment.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScInvestmentCashflow.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScMessage.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScOrder.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScSpreadAdjustConfig.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScSummaryTradingCust.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScSummaryTrading.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScTag.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScUserArchivement.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/ScCustomer.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/FxSymbolGroup.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/FxSymbolGroupMapping.hbm.xml</value>
                
                <value>phn/com/nts/db/entity/mapping/AmsAffiliate.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/AmsAffiliateActivity.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/AmsAffiliateAsp.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/AmsAffiliateCustomer.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/AmsAffiliateLP.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/AmsWhitelabelReport.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/AmsCustomerTest.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/AmsTestSummary.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/AmsPackageTest.hbm.xml</value>
                <value>phn/com/nts/db/entity/mapping/AmsQuestionnaire.hbm.xml</value>
			</list>
		</property>
	</bean>
	
	<!-- BO Database -->
 	<bean id="masterDataSourceBo" class="org.apache.commons.dbcp.BasicDataSource">
		<property name="driverClassName" value="${jdbc.driverClassName}" />
		<property name="url" value="${jdbc.urlBoMaster}" />
		<property name="username" value="${jdbc.usernameBoMaster}" />
		<property name="password" value="${jdbc.passwordBoMaster}" />
		<property name="maxActive" value="75"/>
        <property name="maxIdle" value="75"/>
        <property name="testOnBorrow" value="true" />
        <property name="testOnReturn" value="true" />
        <property name="validationQuery" value="SELECT 1" />
	</bean>
	<bean id="masterSessionFactoryBo" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
		<property name="dataSource"><ref bean="masterDataSourceBo" /></property>
		<property name="hibernateProperties">
			<props>
				<prop key="hibernate.dialect">org.hibernate.dialect.MySQLDialect</prop>
				<prop key="hibernate.show_sql">false</prop>
				<prop key="jdbc.batch_size">5</prop>
                <prop key="c3p0.max_size">72</prop>
                <prop key="c3p0.min_size">18</prop>
                <prop key="c3p0.timeout">5000</prop>
                <prop key="c3p0.max_statements">500</prop>
                <prop key="c3p0.idle_test_period">3000</prop>
                <prop key="c3p0.acquire_increment">2</prop>
                <prop key="connection.provider_class">org.hibernate.connection.C3P0ConnectionProvider</prop>
                <prop key="hibernate.connection.release_mode">after_statement</prop>
                <prop key="hibernate.enable_lazy_load_no_trans">true</prop>
			</props>
		</property>
		<property name="mappingResources">
			<list>
				<value>phn/com/nts/db/entity/mapping/BoCustomer.hbm.xml</value>
			</list>
		</property>
	</bean>
   	<bean id="masterTransactionManagerBo" class="org.springframework.orm.hibernate3.HibernateTransactionManager">
		<property name="dataSource" ref="masterDataSourceBo" />
		<property name="sessionFactory" ref="masterSessionFactoryBo" />		
 	</bean>
	<!-- END BO Database -->
	
	<!-- Rpt Database -->
 	<bean id="masterDataSourceRpt" class="org.apache.commons.dbcp.BasicDataSource">
		<property name="driverClassName" value="${jdbc.driverClassName}" />
		<property name="url" value="${jdbc.urlRptMaster}" />
		<property name="username" value="${jdbc.usernameRptMaster}" />
		<property name="password" value="${jdbc.passwordRptMaster}" />
		<property name="maxActive" value="75"/>
        <property name="maxIdle" value="75"/>
        <property name="testOnBorrow" value="true" />
        <property name="testOnReturn" value="true" />
        <property name="validationQuery" value="SELECT 1" />
	</bean>
	<bean id="masterSessionFactoryRpt" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
		<property name="dataSource"><ref bean="masterDataSourceRpt" /></property>
		<property name="hibernateProperties">
			<props>
				<prop key="hibernate.dialect">org.hibernate.dialect.MySQLDialect</prop>
				<prop key="hibernate.show_sql">false</prop>
				<prop key="jdbc.batch_size">5</prop>
                <prop key="c3p0.max_size">72</prop>
                <prop key="c3p0.min_size">18</prop>
                <prop key="c3p0.timeout">5000</prop>
                <prop key="c3p0.max_statements">500</prop>
                <prop key="c3p0.idle_test_period">3000</prop>
                <prop key="c3p0.acquire_increment">2</prop>
                <prop key="connection.provider_class">org.hibernate.connection.C3P0ConnectionProvider</prop>
                <prop key="hibernate.connection.release_mode">after_statement</prop>
                <prop key="hibernate.enable_lazy_load_no_trans">true</prop>
			</props>
		</property>
		<property name="mappingResources">
			<list>
				<value>phn/com/nts/db/entity/mapping/RptUsedBoTest.hbm.xml</value>
			</list>
		</property>
	</bean>
   	<bean id="masterTransactionManagerRpt" class="org.springframework.orm.hibernate3.HibernateTransactionManager">
		<property name="dataSource" ref="masterDataSourceRpt" />
		<property name="sessionFactory" ref="masterSessionFactoryRpt" />		
 	</bean>
	<!-- END Rpt Database -->
        
    <!--  Transaction manager for a single Hibernate SessionFactory	-->
   	<bean id="masterTransactionManager" class="org.springframework.orm.hibernate3.HibernateTransactionManager">
		<property name="dataSource" ref="masterDataSource" />
		<property name="sessionFactory" ref="masterSessionFactory" />		
 	</bean>
	<bean id="masterTransactionProxyTemplate" abstract="true" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager" ref="masterTransactionManager" />
		<property name="transactionAttributes">
	        <props>
				<prop key="cancel*">PROPAGATION_REQUIRED</prop>
				<prop key="reject*">PROPAGATION_REQUIRED</prop>
				<prop key="hold*">PROPAGATION_REQUIRED</prop>
				<prop key="approve*">PROPAGATION_REQUIRED</prop>
				<prop key="create*">PROPAGATION_REQUIRED</prop>
				<prop key="save*">PROPAGATION_REQUIRED</prop>
				<prop key="remove*">PROPAGATION_REQUIRED</prop>
				<prop key="insert*">PROPAGATION_REQUIRED</prop>
				<prop key="update*">PROPAGATION_REQUIRED</prop>
				<prop key="batch*">PROPAGATION_REQUIRED</prop>
				<prop key="archived*">PROPAGATION_REQUIRED</prop>
				<prop key="deposit*">PROPAGATION_REQUIRED</prop>
				<prop key="transfer*">PROPAGATION_REQUIRED</prop>	
		        <prop key="reset*">PROPAGATION_REQUIRED</prop>	
		        <prop key="addBankTransfer">PROPAGATION_REQUIRED</prop>
		        <prop key="*">PROPAGATION_SUPPORTS</prop>
	        </props>
		</property>
    </bean>    
</beans>